<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootswatch Superhero Example</title>
    <link id="theme" rel="stylesheet" href="../styles/superhero.css">
    <style>
.hidden { display: none; }
</style>

     <script>
function toggleTheme(value) {
    // Change CSS file
    let sheets = document.getElementsByTagName('link');
    sheets[0].href = value;

    // Update heading text
    const heading = document.querySelector('h1.display-4');
    if (value.includes('brite.css')) {
        heading.innerHTML = 'Welcome to Brite';
    } else if (value.includes('superhero.css')) {
        heading.innerHTML = 'Welcome to Superhero';
    }
}

    </script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
                <div class="container-fluid">
                  <a class="navbar-brand" href="#">Navbar</a>
                  <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>

                  <div class="navbar-collapse collapse" id="navbarColor01" style="">
                    <ul class="navbar-nav me-auto">
                      <li class="nav-item">
                        <a class="nav-link active" href="#">Home
                          <span class="visually-hidden">(current)</span>
                        </a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                        <div class="dropdown-menu">
                          <a class="dropdown-item" href="#">Action</a>
                          <a class="dropdown-item" href="#">Another action</a>
                          <a class="dropdown-item" href="#">Something else here</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="#">Separated link</a>
                        </div>
                      </li>
                    </ul>
                    <form class="d-flex" onsubmit="return false;">
  <input id="searchInput" class="form-control me-sm-2" type="search" placeholder="Search">
  <button id="searchBtn" class="btn btn-secondary my-2 my-sm-0" type="button">Search</button>
</form>

                  </div>
                </div>
              </nav>

    <div class="container mt-4">
      <h1 class="display-4">Welcome to Superhero</h1>
      <p class="lead">This example toggles Bootswatch CSS Themes.</p>
      <p>And has JavaScript CRUD (Create, Read, Update, Delete) Ops.</p>
        <p>Search for Local Storage values Entered</p>
      <button type="button" class="btn btn-outline-success" onclick="toggleTheme('../styles/brite.css')">Brite Theme</button>
      <button type="button" class="btn btn-outline-primary" onclick="toggleTheme('../styles/superhero.css')">Superhero Theme</button>
      <div id="searchResults" class="mb-3"></div>

      <div class="card text-white bg-dark mt-4" style="max-width: 20rem;">
        <div class="card-header">JavaScript C.R.U.D. Example 1</div>
        <div class="card-body">
          <h4 class="card-title">This example uses a table to manage data dynamically:</h4>
          <p class="card-text">This example uses a table to manage data dynamically:</p>
          <div class="add-form">
    <input class="form-control" type="text" id="name" placeholder="Enter Name">
    <input class="form-control" type="text" id="age" placeholder="Enter Age">
    <button  class="btn btn-outline-primary" onclick="addData()">Add</button>
  </div>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="data-table">
      <!-- Dynamic rows will be added here -->
    </tbody>
  </table>

  <script>
    const dataTable = document.getElementById('data-table');

    function addData() {
      const name = document.getElementById('name').value;
      const age = document.getElementById('age').value;

      if (name && age) {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${name}</td>
          <td>${age}</td>
          <td>
            <button class="btn btn-outline-secondary" onclick="editData(this)">Edit</button>
            <button class="btn btn-outline-secondary" onclick="deleteData(this)">Delete</button>
          </td>
        `;
        dataTable.appendChild(row);
        document.getElementById('name').value = '';
        document.getElementById('age').value = '';
      } else {
        alert('Please fill out both fields.');
      }
    }

    function editData(button) {
      const row = button.parentElement.parentElement;
      const name = row.children[0].innerText;
      const age = row.children[1].innerText;

      document.getElementById('name').value = name;
      document.getElementById('age').value = age;

      deleteData(button);
    }

    function deleteData(button) {
      const row = button.parentElement.parentElement;
      dataTable.removeChild(row);
    }
  </script>
        </div>
      </div>
      
      <div class="card text-white bg-dark mt-4" style="max-width: 20rem;">
        <div class="card-header">JavaScript C.R.U.D. Example 2</div>
        <div class="card-body">
          <h4 class="card-title">Work with Local Storage</h4>
          <p class="card-text">This card uses Bootswatch Superhero styles for a dark, dramatic theme.</p>
          <h3>Add New Item</h3>
          <input class="form-control" type="text" id="newItem" placeholder="Enter new item" />
           <button  class="btn btn-outline-primary" onclick="addItem()">Add</button>

          <h3>Stored Items</h3>
          <button class="btn btn-outline-primary"  onclick="showAll()">Show All Items</button>
          <div id="list"></div>

          <div id="editForm" class="hidden">
         <h3>Edit Item</h3>
         <input class="form-control" type="text" id="editValue" />
         <button class="btn btn-outline-secondary" onclick="updateItem()">Update</button>
         </div>
        </div>
      </div>
    </div>
<script>
    const storageKey = 'myItems';
    let currentEditIndex = null;

    // Initialize with 3 values
    window.onload = () => {
      if (!localStorage.getItem(storageKey)) {
        const initialData = ['Apple', 'Banana', 'Cherry'];
        localStorage.setItem(storageKey, JSON.stringify(initialData));
      }
    };

    function showAll() {
      const listDiv = document.getElementById('list');
      listDiv.innerHTML = '';
      const items = JSON.parse(localStorage.getItem(storageKey)) || [];

      items.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `
          ${item} 
          <button class="btn btn-outline-secondary" onclick="editItem(${index})">Edit</button>
          <button class="btn btn-outline-secondary" onclick="deleteItem(${index})">Delete</button>
        `;
        listDiv.appendChild(div);
      });
    }

    function addItem() {
      const newItem = document.getElementById('newItem').value.trim();
      if (newItem) {
        const items = JSON.parse(localStorage.getItem(storageKey)) || [];
        items.push(newItem);
        localStorage.setItem(storageKey, JSON.stringify(items));
        document.getElementById('newItem').value = '';
        showAll();
      }
    }

    function editItem(index) {
      const items = JSON.parse(localStorage.getItem(storageKey));
      document.getElementById('editValue').value = items[index];
      currentEditIndex = index;
      document.getElementById('editForm').classList.remove('hidden');
    }

    function updateItem() {
      const newValue = document.getElementById('editValue').value.trim();
      if (newValue) {
        const items = JSON.parse(localStorage.getItem(storageKey));
        items[currentEditIndex] = newValue;
        localStorage.setItem(storageKey, JSON.stringify(items));
        document.getElementById('editForm').classList.add('hidden');
        showAll();
      }
    }

    function deleteItem(index) {
      const items = JSON.parse(localStorage.getItem(storageKey));
      items.splice(index, 1);
      localStorage.setItem(storageKey, JSON.stringify(items));
      showAll();
    }
  </script>
  <script>
  // Search logic for navbar
const searchInput = document.getElementById('searchInput');
const searchBtn = document.getElementById('searchBtn');
const searchResults = document.getElementById('searchResults');

// Live search as you type
searchInput.addEventListener('input', function () {
    const query = this.value.trim().toLowerCase();
    if (query) {
        showSearchResults(query);
    } else {
        searchResults.innerHTML = ''; // Clear results when empty
    }
});

// Click search button
searchBtn.addEventListener('click', function () {
    const query = searchInput.value.trim().toLowerCase();
    if (query) {
        showSearchResults(query);
    } else {
        showSearchResults(); // Show all if no query
    }
});

// Function to display results above first card
function showSearchResults(query = '') {
    const items = JSON.parse(localStorage.getItem(storageKey)) || [];
    const filtered = query
        ? items.filter(item => item.toLowerCase().includes(query))
        : items;

    let tableHTML = `
        <table class="table table-bordered table-sm table-dark">
            <thead>
                <tr><th>Item</th></tr>
            </thead>
            <tbody>
    `;

    if (filtered.length > 0) {
        filtered.forEach(item => {
            tableHTML += `<tr><td>${item}</td></tr>`;
        });
    } else {
        tableHTML += `<tr><td>No matches found</td></tr>`;
    }

    tableHTML += `</tbody></table>`;
    searchResults.innerHTML = tableHTML;
}

  </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
